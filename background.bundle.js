chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch((e=>console.error(e))),chrome.runtime.onMessage.addListener(((e,r,o)=>{console.log("Message received from sidepanel:",e),chrome.tabs.query({active:!0,currentWindow:!0},(function(r){0!==r.length?("startStream"===e.action&&chrome.tabs.sendMessage(r[0].id,{action:"startStream"},(function(e){chrome.runtime.lastError?console.error("Error sending message to content script:",chrome.runtime.lastError):console.log("Response from content script:",e)})),"stopStream"===e.action&&chrome.tabs.sendMessage(r[0].id,{action:"stopStream"},(function(e){chrome.runtime.lastError?console.error("Error sending message to content script:",chrome.runtime.lastError):console.log("Response from content script:",e)})),"mediaStream"===e.action&&(console.log(e),chrome.tabs.sendMessage(r[0].id,{res:e.stream},(function(e){chrome.runtime.lastError?console.error("Error sending message to content script:",chrome.runtime.lastError):console.log("Response from content script:",e)})))):console.error("No active tab found.")})),o("Message received by background script")}));